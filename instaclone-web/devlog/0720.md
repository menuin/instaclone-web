# ğŸ¦ DEVLOG 7/20



### #10.13 Redirecting users

**í˜ì´ì§€ ê°„ ì´ë™í•  ë•Œ ì•Œë¦¼ì¶”ê°€(ex.íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŒ)**

- redirect with states (routeì— state ì „ë‹¬)

  `history.push(routes.home,{message:"Account created. Please log in"});`

  ğŸ’¦ hashRouterë¥¼ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ `Warning: hash history cannot push state it is ignored` : ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„± -`history.push({ pathname: routes.home, message: "Account created. Please log in" });`

- useLocation (hook) : í˜„ì¬ ë¨¸ë¬´ë¥´ëŠ” í˜ì´ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” hook

```js
// Login.js
function Login() {
    const location = useLocation();
    console.log(location);
// ìœ„ì—ì„œ ì „ë‹¬í•œ pathname, messageê°€ ë‹´ê¸´ object ì „ë‹¬
```

- Notification component ë§Œë“¤ê¸°

```js
// Login.js
<Notification>{location?.message}</Notification>  // hashRouter
<Notification>{location?.state?.message}</Notification> // browserRouter
```

- usernameê³¼ passwordë„ í•¨ê»˜ ë³´ë‚´ê¸° (ë¡œê·¸ì¸í˜ì´ì§€ì—ì„œ ë°”ë¡œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆë„ë¡)
  - getValues()

```js
const onCompleted = (data) => {
    const {username, password} = getValues();
    history.push({
        pathname : routes.home,
        message : "Account created. Please log in",
        username,
        password,
    })
}
```

- - defaultValues

```js
// Login.js
... = useForm({
    mode:"onChange",
    defaultValues : {
        username : location?.username || "",
        password : location?.password || "",
    }
})
```





