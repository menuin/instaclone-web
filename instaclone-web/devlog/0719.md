# ğŸ¥‚ DEVLOG 7/19



### #10.5 Forms in React

```js
// Login.js
function Login() {
    const [username, setusername] = useState("");
    const onUsernameChange = (event) => {
        setusername(event.target.value);
    }
    
    return (
    ...
    <form>
    	<Input
    		onChange={onUsernameChange}
			value = {username}
			... />
	</form>
)
}
```

- handleSubmit

```js
const handleSubmit = (event) => {
        event.preventDefault();
        if (username === "") {
            setUsernameError("Not empty plz")
        }
        if (username.length < 10) {
            setUsernameError("too short");
        }
        console.log(username);
    }

...
 <form onSubmit={handleSubmit}>
```



### #10.6 Helmet Component

- íƒ€ì´í‹€(íƒ­ ì œëª©) ë°”ê¾¸ê¸°

```js
// Login.js
<Helmet>
	<title>Login | Instaclone</title>
</Helmet>
```

- helmet componentëŠ” helmet provider ì•ˆì— ìˆì–´ì•¼ í•œë‹¤

```js
// App.js
// HelmetProviderë¡œ ì „ë¶€ ê°ì‹¸ê¸°
function App() {
    ...
    return(
    	<HelmetProvider>
        	..
        </HelmetProvider>
    )
}
```

- PageTitleì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ê¸°

```js
// PageTitle.js
function PageTitle({ title }) {
    return <Helmet><title>{title} | Instaclone</title></Helmet>
}
```



### #10.7 React Hook Form

-  react hook form ì‚¬ìš©í•´ì„œ í¼ ë§Œë“¤ê¸°

1. **ëª¨ë“  ê²ƒì´ ë‹¨ í•œê°œì˜ hook(useForm hook) ìœ¼ë¡œë¶€í„° ë‚˜ì˜¨ë‹¤ëŠ” ê²ƒ**
2.  **register**
   
   - stateì™€ setState, onChange functionì„ ë§Œë“œëŠ” ëª¨ë“  ê³¼ì •ì„ ëŒ€ì‹ í•¨
   
   - registerí•˜ëŠ” ê²ƒë“¤ì€ ëª¨ë‘ nameì„ ì¨ì¤˜ì•¼í•œë‹¤
   
     => watch() í• ë•Œ objectì— í•´ë‹¹ nameìœ¼ë¡œ ë‚˜íƒ€ë‚¨

```js
// Login.js
function Login() {
    const { register } = useForm(); 
}
...
<Input ref={register} name="username" type="text" placeholder="Username" />
<Input ref={register} name="password" type="password" placeholder="Password" />
```

ğŸ’¦ ì—ëŸ¬ : path.split is not a function(react-hook-formì´ 7.0.0ì´ìƒìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ìˆì„ ë•Œ ë‚˜íƒ€ë‚¨)

- `ref={register}` ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½
  - `required:true`ëŠ” ë°˜ë“œì‹œ ì…ë ¥ë˜ì–´ì•¼ í•œë‹¤ëŠ” ì†Œë¦¬ì¸ë“¯

```js
<Input {...register('username', { required: true })} .../>
<Input {...register('password', { required: true })} .../>
```



3. **ì…ë ¥ëœ valueë“¤ì„ ì½ìŒ =>  watch**

   - stateì˜ ê¸°ëŠ¥?

   -  username, password ì…ë ¥ê°’valueì˜ ë³€í™”ë¥¼ watch

```js
const { register, watch } = useForm();
console.log(watch());
// => ì…ë ¥ê°’ì´ ë³€í™”ë ë•Œë§ˆë‹¤ ì½˜ì†” ì¶œë ¥
```



4. **validation (useFormì— included)**

- usernameì˜ ìµœëŒ€ ê¸€ì ìˆ˜ ì œí•œ

```js
<Input {...register('username', { 
			required: true, 
			minLength:5, })}
```



5. **handleSubmit (ë„ useFormì— included)**

```js
const { register, watch, handleSubmit } = useForm();
```

- ë‘ê°œì˜  argumentë¥¼ ë°›ìŒ(onSubmitValid, onSubmitInvalid)
  1. formì´ validí•˜ë©´ formì´ validí•œì§€ í™•ì¸í•˜ëŠ” functionì„ call
  2. formì´ invalidí•˜ë©´ formì´ invalidí•œì§€ í™•ì¸í•˜ëŠ” functionì„ call

```js
const onSubmitValid = (data) => {
    console.log(data);
}
const onSubmitInvalid = (data) => {
    console.log(data, "Invalid");
}
...
<form onSubmit={handleSubmit(onSubmitValid, onSubmitInvalid)}>
// formì´ invalidí•˜ë©´ onSubmitInvalid ì‹¤í–‰
```

- ì—ëŸ¬ë©”ì„¸ì§€ë„ ì„¤ì •í•  ìˆ˜ ìˆìŒ

```js
<Input
	{...register('password', {
		required: "Password is required.",
})}
```



6. **validationì´ ì—¬ëŸ¬ê°œì¸ ê²½ìš°**

- ì¡°ê±´ì´ ì—¬ëŸ¬ê°œ ex. usernameì— "potato"ë¥¼ í¬í•¨í•˜ì‹œì˜¤

```js
{...register('username', {
	...
    validate: async (currentValue) => currentValue.includes("potato")
})}
```

- async ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ (ì‚¬ìš©ìê°€ usernameì„ ì…ë ¥í•˜ëŠ” ë™ì‹œì— ê·¸ê²ƒì´ validí•œì§€ ë°±ì—”ë“œì—ì„œ í™•ì¸)

- regex ì‚¬ìš©ê°€ëŠ¥ : `pattern : ~`

  
