# ğŸŒµ DEVLOG 7/23

### #11.14 Parsing hashtags part 2

- ë¬¸ì œ : hashtag is not clickable ! - <a href="">ë¡œ í• ìˆ˜ë„ ìˆì§€ë§Œ allowed tagsì— aíƒœê·¸ë¥¼ ì¶”ê°€í•˜ë©´ ìœ ì €ê°€ linkë¥¼ ì¨ë„£ì„ ìˆ˜ ìˆê²Œë˜ê¸° ë•Œë¬¸ì— ì•ˆë¨ 

- react-router-link ëŠ” sanitized htmlì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ >> htmlì´ê¸° ë•Œë¬¸
- sanitized html ì ìš© ì „ ìƒíƒœë¡œ ê°€ì„œ hashtagë¥¼ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ëŒ€ì²´í•˜ê¸°

```js
const paylod = "i love #avocado";
payload.split(" ").map(word => /#[\w]+/.test(word));
// ê° ë‹¨ì–´ê°€ regexì™€ ë§ëŠ”ì§€ test (list of booleansë¡œ ë°˜í™˜)
payload.split(" ").map(word => /#[\w]+/.test(word) ? `<RL>${word}</RL>` : word);
// ë‹¨ì–´ê°€ regexì™€ ì¼ì¹˜í•˜ë©´ íƒœê·¸ë¡œ ê°ì‹¼ ë‹¨ì–´ ë°˜í™˜
payload.split(" ").map(word => /#[\w]+/.test(word) ? `<RL>${word}</RL>` : word).join(" ");
// ë‹¨ì–´ì‚¬ì´ ê³µë°± ë„ìš°ê³  concatenate
```

- ì ìš©

```js
<CommentCaption>{payload.split(" ").map(word => /#[\w]+/.test(word) ? <Link to={`/hashtag/${word}`}>{word}</Link> : {word})}</CommentCaption>
```

- ê¸°íƒ€ : 

  - ê³µë°±í•œì¹¸ ë„ìš°ê¸°

  - fragmentë¡œ ê°ì‹¸ê¸°

  - key ì œê³µ

  - í•´ì‹œíƒœê·¸ê°€ ì•„ë‹Œ wordì— ëŒ€í•´ì„œëŠ” fragmen<>ë‚´ì— keyë¥¼ ë„£ì„ ìˆ˜ ì—†ìŒ

    <React.Fragment> ì‚¬ìš©í•˜ë©´ keyë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìŒ

    ```js
    <React.Fragment key={index}>
        {word}{" "}
    </React.Fragment>
    ```



### #11.15 Cache modify

- better-easier(than writeFragment) way for changing cache

- **cache.modify()** << new!! (apollo 3)

  - ë°”ê¾¸ë ¤ëŠ”í•„ë“œëª…(previousê°’){

    â€‹	return ë°”ê¾¸ë ¤ëŠ” ê°’}

```js
if (ok) {
    const photoId = `Photo:${id}`
    cache.modify({
        id: photoId, // modifyí•˜ë ¤ëŠ” element
        fields: {
            isLiked(prev) {
                return !prev;
            },
            likes(prev) {
                if (isLiked) {
                    return prev - 1;
                }
                return prev + 1;
            }
        }
    })
}
```

